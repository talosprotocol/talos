# Default values for talos
# This is a YAML-formatted file.

# Global settings
global:
  environment: production

# Image settings
image:
  registry: ghcr.io
  organization: talosprotocol
  pullPolicy: IfNotPresent
  # Overrides the image tag (default: Chart appVersion)
  tag: ""

# Gateway service
gateway:
  enabled: true
  replicaCount: 3
  
  image:
    repository: talos-gateway
  
  service:
    type: ClusterIP
    port: 8080
  
  env:
    devMode: false
  
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

# Audit service
audit:
  enabled: true
  replicaCount: 3
  
  image:
    repository: talos-audit-service
  
  service:
    type: ClusterIP
    port: 8000
  
  env:
    devMode: false
  
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

# MCP Connector
mcpConnector:
  enabled: true
  replicaCount: 1
  
  image:
    repository: talos-mcp-connector
  
  service:
    type: ClusterIP
    port: 8082
  
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 256Mi

# Dashboard
dashboard:
  enabled: true
  replicaCount: 3
  
  image:
    repository: talos-dashboard
  
  service:
    type: ClusterIP
    port: 3000
  
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

# Ingress configuration
ingress:
  enabled: true
  className: nginx
  host: talos.local
  
  # TLS configuration (optional)
  tls:
    enabled: false
    secretName: talos-tls

# Secrets (externally managed in production)
secrets:
  # DO NOT set real values here - use sealed-secrets or external-secrets
  databaseUrl: ""

# Security contexts
securityContext:
  runAsNonRoot: true
  runAsUser: 1001
  fsGroup: 1001
  seccompProfile:
    type: RuntimeDefault

# Monitoring
monitoring:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 30s
  
  prometheusRule:
    enabled: true

# NetworkPolicy
networkPolicy:
  enabled: true

# Migration Job
migration:
  enabled: true
  version: v1
